{
  "url": "https://fastapi.tiangolo.com/tutorial/query-param-models/",
  "title": "Query Parameter ModelsÂ¶",
  "content": "If you have a group of query parameters that are related, you can create a Pydantic model to declare them.\n\nThis would allow you to re-use the model in multiple places and also to declare validations and metadata for all the parameters at once. ðŸ˜Ž\n\nThis is supported since FastAPI version 0.115.0. ðŸ¤“\n\nDeclare the query parameters that you need in a Pydantic model, and then declare the parameter as Query:\n\nPrefer to use the Annotated version if possible.\n\nPrefer to use the Annotated version if possible.\n\nPrefer to use the Annotated version if possible.\n\nFastAPI will extract the data for each field from the query parameters in the request and give you the Pydantic model you defined.\n\nYou can see the query parameters in the docs UI at /docs:\n\nIn some special use cases (probably not very common), you might want to restrict the query parameters that you want to receive.\n\nYou can use Pydantic's model configuration to forbid any extra fields:\n\nPrefer to use the Annotated version if possible.\n\nPrefer to use the Annotated version if possible.\n\nPrefer to use the Annotated version if possible.\n\nIf a client tries to send some extra data in the query parameters, they will receive an error response.\n\nFor example, if the client tries to send a tool query parameter with a value of plumbus, like:\n\nThey will receive an error response telling them that the query parameter tool is not allowed:\n\nYou can use Pydantic models to declare query parameters in FastAPI. ðŸ˜Ž\n\nSpoiler alert: you can also use Pydantic models to declare cookies and headers, but you will read about that later in the tutorial. ðŸ¤«",
  "headings": [
    {
      "level": "h1",
      "text": "Query Parameter ModelsÂ¶",
      "id": "query-parameter-models"
    },
    {
      "level": "h2",
      "text": "Query Parameters with a Pydantic ModelÂ¶",
      "id": "query-parameters-with-a-pydantic-model"
    },
    {
      "level": "h2",
      "text": "Check the DocsÂ¶",
      "id": "check-the-docs"
    },
    {
      "level": "h2",
      "text": "Forbid Extra Query ParametersÂ¶",
      "id": "forbid-extra-query-parameters"
    },
    {
      "level": "h2",
      "text": "SummaryÂ¶",
      "id": "summary"
    }
  ],
  "code_samples": [
    {
      "code": "from typing import Annotated, Literal\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: Annotated[FilterParams, Query()]):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\nfrom typing_extensions import Annotated, Literal\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: Annotated[FilterParams, Query()]):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from typing import List\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\nfrom typing_extensions import Annotated, Literal\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: List[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: Annotated[FilterParams, Query()]):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from typing import Literal\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: FilterParams = Query()):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\nfrom typing_extensions import Literal\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: FilterParams = Query()):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from typing import List\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\nfrom typing_extensions import Literal\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: List[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: FilterParams = Query()):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from typing import Annotated, Literal\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    model_config = {\"extra\": \"forbid\"}\n\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: Annotated[FilterParams, Query()]):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\nfrom typing_extensions import Annotated, Literal\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    model_config = {\"extra\": \"forbid\"}\n\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: Annotated[FilterParams, Query()]):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from typing import List\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\nfrom typing_extensions import Annotated, Literal\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    model_config = {\"extra\": \"forbid\"}\n\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: List[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: Annotated[FilterParams, Query()]):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from typing import Literal\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    model_config = {\"extra\": \"forbid\"}\n\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: FilterParams = Query()):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\nfrom typing_extensions import Literal\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    model_config = {\"extra\": \"forbid\"}\n\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: list[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: FilterParams = Query()):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "from typing import List\n\nfrom fastapi import FastAPI, Query\nfrom pydantic import BaseModel, Field\nfrom typing_extensions import Literal\n\napp = FastAPI()\n\n\nclass FilterParams(BaseModel):\n    model_config = {\"extra\": \"forbid\"}\n\n    limit: int = Field(100, gt=0, le=100)\n    offset: int = Field(0, ge=0)\n    order_by: Literal[\"created_at\", \"updated_at\"] = \"created_at\"\n    tags: List[str] = []\n\n\n@app.get(\"/items/\")\nasync def read_items(filter_query: FilterParams = Query()):\n    return filter_query",
      "language": "python"
    },
    {
      "code": "https://example.com/items/?limit=10&tool=plumbus",
      "language": "unknown"
    },
    {
      "code": "{\n    \"detail\": [\n        {\n            \"type\": \"extra_forbidden\",\n            \"loc\": [\"query\", \"tool\"],\n            \"msg\": \"Extra inputs are not permitted\",\n            \"input\": \"plumbus\"\n        }\n    ]\n}",
      "language": "unknown"
    }
  ],
  "patterns": [],
  "links": [
    "https://fastapi.tiangolo.com/tutorial/query-param-models/"
  ]
}